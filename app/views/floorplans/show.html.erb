<script>setup_canvas();</script>

<!-- Invisible stuff we need -->
<%= content_tag :div, class: "walls_class", data: {walls: @walls} do %>
<% end %>
<%= content_tag :div, class: "floorplan_class", data: {floorplan: @floorplan} do %>
<% end %>
<!--<img id="loadingImage" height="1"  style="visibility:hidden"/>-->
<input style="visibility: hidden; display: none;" type="file" onchange="previewFile()" id="myimage" name="image" accept="image/*" capture>

<div class="modal fade modal" id = "picModal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" onclick="hideModal()">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <img src="<%= asset_path("crystal-profile.png") %>" img id="loadingImage" alt="profile" style="width:298px">
    </div>
  </div>
</div>

<div class="modal fade modal" id = "helpModal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" onclick="hideModal2()">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <img src="<%= asset_path("editinstr.png") %>" img id="helpImage" alt="profile" style="width:298px">

    </div>
  </div>
</div>


<div class="container"> 
  <div class="row">
    <div class="col-xs-12 col-sm-6 col-sm-offset-3">
      <canvas id="c">
        Sorry, your browser doesn't support the &lt;canvas&gt; element.
      </canvas>
    </div>
  </div>
  
  <br>

  <div class="row">
    <div class="col-xs-12 col-sm-6 col-sm-offset-3">
      <div class="btn-group">
        <button class="btn btn-primary btn-lg" type="button" onclick="document.getElementById('myimage').click(); return false;">
          Add Photo
        </button>
        
      </div>

      <div class="btn-group">
        <button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#helpModal">
          Help
        </button>
      </div>
      <div class="btn-group">
        <button class = 'btn btn-lg btn-primary' type="button" onclick="update_floorplan()"> Done </button>
      </div>
    </div>
  </div>
</div>
